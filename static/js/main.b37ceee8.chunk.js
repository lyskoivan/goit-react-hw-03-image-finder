(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1Thvh",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__2Oz94"}},11:function(e,a,t){e.exports={Button:"Button_Button__yBU7P","Button-wrapper":"Button_Button-wrapper__3IC6u"}},12:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3_n8y",Modal:"Modal_Modal__6RBeu"}},25:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__34k7H"}},27:function(e,a,t){e.exports={App:"App_App__21kUk"}},28:function(e,a,t){e.exports=t(74)},33:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(23),c=t.n(o),l=(t(33),t(34),t(8)),s=t.n(l),i=t(13),m=t(3),u=t(4),h=t(6),p=t(5),g=t(7),d=t(24),y=t.n(d),f="15026161-e432bf02d9d2367e14c73284c";var _={API_KEY:f,URL:URL,getImagesByQuery:function(e,a){var t,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t="https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=").concat(f,"&image_type=photo&orientation=horizontal&per_page=12"),r.prev=1,r.next=4,s.a.awrap(y.a.get(t));case 4:return n=r.sent,r.abrupt("return",n.data);case 8:throw r.prev=8,r.t0=r.catch(1),new Error(r.t0);case 11:case"end":return r.stop()}}),null,null,[[1,8]])}},b=t(9),v=t.n(b),I=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={query:""},t.handleChangeQuery=function(e){t.setState({query:e.target.value})},t.handleSubmitSearchForm=function(e){e.preventDefault();var a=t.state.query;a?((0,t.props.onGetImages)(a.toLowerCase()),t.setState({query:""})):console.log("Type some query")},t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.state.query;return r.a.createElement("header",{className:v.a.Searchbar},r.a.createElement("form",{onSubmit:this.handleSubmitSearchForm,className:v.a.SearchForm},r.a.createElement("input",{onChange:this.handleChangeQuery,value:e,type:"text",className:v.a.SearchForm_input,placeholder:"Search images and photos",autoComplete:"off"}),r.a.createElement("button",{type:"submit",className:v.a.SearchForm_button},r.a.createElement("span",{className:v.a.SearchForm_button_label},"Search"))))}}]),a}(n.Component),S=t(10),k=t.n(S),w=function(e){var a=e.src,t=e.onClick;return r.a.createElement("li",{className:k.a.ImageGalleryItem},r.a.createElement("img",{src:a,alt:"",className:k.a.ImageGalleryItem_image,onClick:t,role:"presentation"}))},E=t(25),C=t.n(E),O=function(e){var a=e.images,t=e.onClick;return r.a.createElement("ul",{className:C.a.ImageGallery},a.map((function(e){return r.a.createElement(w,{key:e.id,src:e.webformatURL,onClick:function(){return t(e.largeImageURL)}})})))},L=t(26),j=t.n(L),B=t(11),x=t.n(B),G=function(e){var a=e.onClick,t=e.isLoading;return r.a.createElement("div",{className:x.a["Button-wrapper"]},t?r.a.createElement(j.a,{type:"ThreeDots",color:"coral",height:80,width:80}):r.a.createElement("button",{onClick:a,type:"button",className:x.a.Button},"Load More"))},N=t(12),F=t.n(N),M=function(e){function a(){var e,t;Object(m.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=Object(h.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(o)))).backdropRef=Object(n.createRef)(),t.handleKeyPress=function(e){"Escape"===e.code&&t.props.onClose()},t.handleBackdropClick=function(e){var a=t.backdropRef.current;a&&e.target!==a||t.props.onClose()},t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress),window.addEventListener("mousedown",this.handleBackdropClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress),window.removeEventListener("mousedown",this.handleBackdropClick)}},{key:"render",value:function(){var e=this.props.src;return r.a.createElement("div",{className:F.a.Overlay,ref:this.backdropRef},r.a.createElement("div",null,r.a.createElement("img",{src:e,alt:"",className:F.a.Modal})))}}]),a}(n.Component),q=t(27),R=t.n(q),U=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={images:[],page:1,query:"",isLoading:!1,isImageModalOpen:!1,modalImageSrc:""},t.getImages=function(e,a){var n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(_.getImagesByQuery(e,a));case 2:if(!((n=r.sent).hits.length<0||n.total===t.state.images.length)){r.next=6;break}return t.setState({isLoading:!1}),r.abrupt("return");case 6:t.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(n.hits))}})),t.setState({isLoading:!1}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 9:case"end":return r.stop()}}))},t.handleGetImages=function(e){t.setState({images:[],page:1,query:e,isLoading:!0})},t.handleNextPage=function(e){e.preventDefault(),t.setState((function(e){return{page:e.page+1,isLoading:!0}}))},t.handleImageClick=function(e){t.setState({modalImageSrc:e,isImageModalOpen:!0})},t.handleCloseImageModal=function(){t.setState({isImageModalOpen:!1})},t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this.state,n=t.page,r=t.query;a.page===n&&a.query===r||this.getImages(r,n)}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,n=e.isImageModalOpen,o=e.modalImageSrc;return r.a.createElement("div",{className:R.a.App},r.a.createElement(I,{onGetImages:this.handleGetImages}),a.length>0&&r.a.createElement(O,{images:a,onClick:this.handleImageClick}),a.length>0&&r.a.createElement(G,{onClick:this.handleNextPage,isLoading:t}),n&&r.a.createElement(M,{src:o,onClose:this.handleCloseImageModal}))}}]),a}(n.Component);c.a.render(r.a.createElement(U,null),document.getElementById("root"))},9:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__1k57R",SearchForm:"Searchbar_SearchForm__QULIB",SearchForm_button:"Searchbar_SearchForm_button__2f_V3",SearchForm_button_label:"Searchbar_SearchForm_button_label__1-jto",SearchForm_input:"Searchbar_SearchForm_input__2kLnl"}}},[[28,1,2]]]);
//# sourceMappingURL=main.b37ceee8.chunk.js.map