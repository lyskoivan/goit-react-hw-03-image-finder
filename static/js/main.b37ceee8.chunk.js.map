{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/App/App.module.css","components/services/api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","API_KEY","URL","getImagesByQuery","query","page","a","async","axios","get","getImages","data","Error","Searchbar","state","handleChangeQuery","e","setState","target","value","handleSubmitSearchForm","preventDefault","onGetImages","props","toLowerCase","console","log","this","className","styles","onSubmit","SearchForm","onChange","type","SearchForm_input","placeholder","autoComplete","SearchForm_button","SearchForm_button_label","Component","ImageGalleryItem","src","onClick","alt","ImageGalleryItem_image","role","ImageGallery","images","map","image","key","id","webformatURL","largeImageURL","Button","isLoading","color","height","width","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","Overlay","ref","App","isImageModalOpen","modalImageSrc","imagesAPI","newImages","hits","length","total","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","handleGetImages","handleNextPage","handleImageClick","handleCloseImageModal","prevProps","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b37ceee8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Thvh\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2Oz94\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__yBU7P\",\"Button-wrapper\":\"Button_Button-wrapper__3IC6u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3_n8y\",\"Modal\":\"Modal_Modal__6RBeu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__34k7H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__21kUk\"};","import axios from 'axios';\n\nconst API_KEY = '15026161-e432bf02d9d2367e14c73284c';\n\nasync function getImagesByQuery(query, page) {\n  const URL = `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  try {\n    const getImages = await axios.get(URL);\n\n    return getImages.data;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\nexport default { API_KEY, URL, getImagesByQuery };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onGetImages: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handleChangeQuery = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmitSearchForm = e => {\n    e.preventDefault();\n    const { query } = this.state;\n    if (!query) {\n      console.log('Type some query');\n      return;\n    }\n    const { onGetImages } = this.props;\n    onGetImages(query.toLowerCase());\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form\n          onSubmit={this.handleSubmitSearchForm}\n          className={styles.SearchForm}\n        >\n          <input\n            onChange={this.handleChangeQuery}\n            value={query}\n            type=\"text\"\n            className={styles.SearchForm_input}\n            placeholder=\"Search images and photos\"\n            autoComplete=\"off\"\n          />\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ src, onClick }) => {\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={src}\n        alt=\"\"\n        className={styles.ImageGalleryItem_image}\n        onClick={onClick}\n        role=\"presentation\"\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          src={image.webformatURL}\n          onClick={() => onClick(image.largeImageURL)}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Loader from 'react-loader-spinner';\n\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick, isLoading }) => {\n  return (\n    <div className={styles['Button-wrapper']}>\n      {isLoading ? (\n        <Loader type=\"ThreeDots\" color=\"coral\" height={80} width={80} />\n      ) : (\n        <button onClick={onClick} type=\"button\" className={styles.Button}>\n          Load More\n        </button>\n      )}\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default Button;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n    window.addEventListener('mousedown', this.handleBackdropClick);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n    window.removeEventListener('mousedown', this.handleBackdropClick);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { src } = this.props;\n    return (\n      <div className={styles.Overlay} ref={this.backdropRef}>\n        <div>\n          <img src={src} alt=\"\" className={styles.Modal} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport imagesAPI from '../services/api';\n\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    query: '',\n    isLoading: false,\n    isImageModalOpen: false,\n    modalImageSrc: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, query } = this.state;\n\n    if (prevState.page !== page || prevState.query !== query) {\n      this.getImages(query, page);\n    }\n  }\n\n  getImages = async (query, page) => {\n    const newImages = await imagesAPI.getImagesByQuery(query, page);\n\n    if (\n      newImages.hits.length < 0 ||\n      newImages.total === this.state.images.length\n    ) {\n      this.setState({ isLoading: false });\n      return;\n    }\n\n    this.setState(prevState => {\n      return {\n        images: [...prevState.images, ...newImages.hits],\n      };\n    });\n\n    this.setState({ isLoading: false });\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  handleGetImages = query => {\n    this.setState({\n      images: [],\n      page: 1,\n      query,\n      isLoading: true,\n    });\n  };\n\n  handleNextPage = e => {\n    e.preventDefault();\n\n    this.setState(prevState => {\n      return {\n        page: prevState.page + 1,\n        isLoading: true,\n      };\n    });\n  };\n\n  handleImageClick = src => {\n    this.setState({ modalImageSrc: src, isImageModalOpen: true });\n  };\n\n  handleCloseImageModal = () => {\n    this.setState({ isImageModalOpen: false });\n  };\n\n  render() {\n    const { images, isLoading, isImageModalOpen, modalImageSrc } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onGetImages={this.handleGetImages} />\n        {images.length > 0 && (\n          <ImageGallery images={images} onClick={this.handleImageClick} />\n        )}\n        {images.length > 0 && (\n          <Button onClick={this.handleNextPage} isLoading={isLoading} />\n        )}\n        {isImageModalOpen && (\n          <Modal src={modalImageSrc} onClose={this.handleCloseImageModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './global.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1k57R\",\"SearchForm\":\"Searchbar_SearchForm__QULIB\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2f_V3\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1-jto\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2kLnl\"};"],"sourceRoot":""}